# Телеграм-Бот: Многофункциональный помощник и учёт

Этот проект представляет собой универсального телеграм-бота, объединяющего несколько функциональных модулей: переводчик, менеджер личных финансов, учёт данных и многое другое. Вся логика реализована на Python с использованием библиотеки [Aiogram](https://aiogram.dev/), SQLite и API обмена валют.

---

## Основные функции проекта

- Общение и взаимодействие через интерфейс клавиатур (кнопки, inline)
- Перевод текста и озвучивание (translate + gTTS)
- Получение информации о погоде
- Работа с изображениями (принимает и сохраняет фото)
- Ведение учёта личных данных и расходов (FSM)
- Учёт и регистрация новых пользователей
- Получение курсов валют и советы по экономии
- Ведение базы данных пользователей и их расходов

---

## Структура проекта и ключевые файлы

| Файл                 | Назначение                                                                               |
|----------------------|------------------------------------------------------------------------------------------|
| `main.py`           | Основной файл бота, настройка команд и обработка взаимодействий                        |
| `keyboards.py`      | Определение клавиатур (обычные и inline)                                                 |
| `new.py`            | Работа с FSM — сбор данных пользователя, создание таблицы `students` и сохранение        |
| `show_students.py`  | Пример чтения данных из базы о студентам (используйте для тестирования)                   |
| `bot_fin.py`        | Модуль с полноценным функционалом по управлению финансами, курсами валют, советами и регистрацией |
| `config.py`         | Конфигурационный файл с токеном бота                                                   |

---

## Подготовка к запуску

1. Создайте файл `config.py` и вставьте туда ваш Telegram API токен:

```python
# config.py
TOKEN = 'ваш_токен_бота'
```

2. Установите необходимые библиотеки:

```bash
pip install aiogram requests aiohttp gtts
```

или через requirements.txt.

3. Настройте базу данных. Поизвольно она создается автоматически при запуске `bot_fin.py` и `new.py`.

---

## Запуск проекта

```bash
python main.py
```
или
```bash
python bot_fin.py
```

(Обратите внимание, что основной запуск — `main.py` или `bot_fin.py`, в зависимости от того, какую часть функционала вы хотите использовать.)

---

## Описание функционала

### Основные команды и действия

- `/start` — приветственное сообщение с клавиатурой
- `/help` — список команд и возможностей
- `/weather` — информация о погоде в Москве
- `/translator` — перевод текста на английский с голосовым озвучиванием
- `/translator_en` — перевод текста на русский с голосовым озвучиванием
- `/voice` — воспроизведение голосового файла `voice.ogg`
- `/dynamic` — демонстрация динамической клавиатуры

### Взаимодействия с клавиатурами

- inline и Reply-кнопки для выбора вариантов
- Кнопки для получения курса валют, советов и регистрации в системе

### Личный учёт и финансы

- Регистрация пользователя (`"Регистрация в телеграм боте"`)
- Ввод расходов по трем категориям с помощью FSM
- Обновление и сохранение данных в базе данных `user.db`

### Работа с базой данных

- Таблица `users` для хранения информации о пользователе и его расходах
- В базовых примерах также есть `students` — для учебных целей

---

## Структура базы данных

- `users` — таблица для хранения данных о пользователях и расходах
  - `id`, `telegram_id`, `name`, `category1`, `expenses1`, `category2`, `expenses2`, `category3`, `expenses3`

- `students` (используется в `new.py`) — таблица для хранения студентских данных

---

## Вклад и расширения

Проект открыт для дополнений, улучшений и кастомизации. Можете добавлять новые функции, команды или интеграции по мере необходимости.

---

## Контакты / Поддержка

Проблемы, идеи — пишите в репозиторий или личные сообщения.

---

Если нужно — подкорректирую, дополню или сделаю более юридически-формальный документ.
